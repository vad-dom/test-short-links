<h1>Сервис коротких ссылок + QR</h1>

<h2>Требования к ПО:</h2>
<ul>
  <li>PHP >= 7.4</li>
  <li>MySQL >= 5.7</li>
  <li>Composer</li>
  <li>Git</li>
  <li>
    PHP extensions
    <ul>
      <li>pdo_mysql</li>
      <li>curl</li>
    </ul>
  </li>
</ul>

<h2>Инструкция по развертыванию проекта:</h2>
<ul>
  <li>
    В командной строке перейти в папку, куда будет копироваться проект:
    <ul>
      <b>cd <путь></b>
    </ul>
  </li>
  <li>
    Создать клон репозитория: 
    <ul>
      <b>git clone https://github.com/vad-dom/test-short-links.git</b>
    </ul>
  </li>
  <li>
    Перейти в папку basic: 
    <ul>
      <b>cd test-short-links/basic</b>
    </ul>
  </li>
  <li>
    Обновить до последних версий и установить зависимости в Composer: 
    <ul>
      <li><b>composer update</b></li>
      <li><b>composer install</b></li>
    </ul>
  </li>
  <li>Создать новую базу данных MySQL</li>
  <li>
    Настроить подключение к базе данных:
    <ul>
      <li><b>test-short-links/basic/config/db.php</b></li>
      <li><b>поменять на свои значения ключей 'dsn', 'username', 'password'</b></li>
    </ul>
  </li>
  <li>
    Применить миграцию для создания структуры базы данных:
    <ul>
      <b>php yii migrate</b>
    </ul>
  </li>
  <li>
    Настроить веб сервер: 
    <ul>
      <li><b>https://www.yiiframework.com/doc/guide/2.0/ru/start-installation Раздел "Настройка веб сервера"</b></li>
      <li><b>Корневую папку домена указать /basic/web</b></li>
    </ul>
  </li>
  <li>Открыть главную страницу в браузере и действовать согласно описанию задачи ниже</li>
</ul>


<h2>Задача:</h2>
- Создать проект на использующий следующий стек: Yii2  MySQL/MariaDB  jQuery  Bootstrap     

- При переходе на главную страницу проекта мы видим форму Input, в которую подставляем любую ссылку. 

- Рядом кнопка "ОК", при нажатии на которую сервис должен проверить (отвалидировать): 

- Валидность URL ссылки (http:: https ну и далее все атрибуты)  

-Доступность данного ресурса (если не доступен выводим: Данный URL не доступен)  

-Если проверка валидности и доступности пройдена - сохраняем ссылку в базе и формируем короткую ссылку + QR кода  

-Пользователю после нажатия отдаем либо сообщение об ошибке, либо QR код и рядом с ним короткую ссылку (все это происходит через Ajax без перезагрузки страницы)  

- QR - при наведении камеры телефона на QR код: должна генерироваться ссылка и ее можно открыть (контроллер перехода по ссылки делаем отдельно)  

- При попытке перейти по короткой ссылке - происходит редирект на необходимый сайт (заложенный при генерации ссылки)  

- При переходе по ссылки в базе делаем запись, с какого внешнего IP перешел пользователь по этой ссылке (логи) + счетчик, который показывает сколько было переходов   

Структура базы  - на ваше усмотрение

Миграции - на ваше усмотрение (если нет, нужен будет dump и версия базы базы)

Версии пакетов - на ваше усмотрение

Тип проекта – Basic

Проект не должен использовать API сторонних серверов

Так же необходима инструкция, как развернуть проект и заставить его работать
